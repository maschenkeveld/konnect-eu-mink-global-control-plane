type: AccessRole
name: developer-debby-accessrole
rules:
- types: ["MeshTrafficPermission"] # List of Kuma resource kinds that are granted access. If it's empty, access is granted to all kinds.
  # names: ["res-1"] # List of allowed type names that are granted access. If it's empty, access is granted to resources regardless of the name.
  mesh: mesh-a # Grants access to the resources in the named mesh. It can only be used with the mesh-scoped resources.
  access: ["CREATE", "UPDATE", "DELETE"] # The action bound to a type.
  when: # A set of qualifiers to receive access. Only one of them needs to be fulfilled to receive access.
  # - targetRef: # A condition on the targetRef section in policies 2.0 (like MeshAccessLog or MeshTrace).
  #     kind: MeshService
  #     name: backend
  - targetRef:
      kind: MeshSubset
      tags:
        k8s.kuma.io/namespace: debby
  # - targetRef:
  #     kind: MeshService
  #     name: web
    # to: # can only be used with policies that have a "to" list (like MeshAccessLog)
  #     targetRef:
  #       kind: MeshService
  #       name: backend
  # - targetRef:
  #     kind: MeshService
  #     name: web
  #   from: # can only be used with policies that have a "from" list (like MeshTrafficPermission)
  #     targetRef:
  #       kind: Mesh